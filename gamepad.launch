<!-- pass argument like: roslaunch truck_master master.launch gamepad_rate:=50.0  -->

<launch>

  <arg name="gamepad" default="true"/>
  <arg name="gamepad_rate" default="50.0" />
  <arg name="gamepad_type" default="ps3"/>

  <group if="$(arg gamepad)">
    <node name="joy_node" pkg="joy" type="joy_node" >
      <param name="autorepeat_rate" type="double" value="$(arg gamepad_rate)" />
      <param name="coalesce_rate" type="double" value="$(eval 1.0 / arg('gamepad_rate'))" />
    </node>

    <node name="gamepad" pkg="truck_manual_ctrl" type="gamepad.py">
      <param name="gamepad_rate" type="double" value="$(arg gamepad_rate)" />
      <param name="gamepad_type" type="string" value="$(arg gamepad_type)" />
    </node>
  
   </group>
</launch>
